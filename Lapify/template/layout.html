<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    {% block title %}
    <title>Title</title>
    {% endblock %}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

    <style>
      /* üé® Theme Variables */
      :root {
        --bg-color: #ffffff;
        --text-color: #222;
        --nav-bg: linear-gradient(90deg, #6c63ff, #3f3d9e);
        --footer-bg: #f8f9fa;
        --footer-text: #222;
      }

      .dark-mode {
        --bg-color: #121212;
        --text-color: #eaeaea;
        --nav-bg: linear-gradient(90deg, #2b2b2b, #1a1a1a);
        --footer-bg: #1e1e1e;
        --footer-text: #bbb;
      }

      body {
        background-color: var(--bg-color);
        color: var(--text-color);
      }

      .navbar {
        background: var(--nav-bg) !important;
      }

      footer {
        background: var(--footer-bg) !important;
        color: var(--footer-text) !important;
      }

      /* Home Button - Bottom Left */
      .home-btn {
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 1050;
      }
      .home-btn a {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        background: linear-gradient(135deg, #6c63ff, #3f3d9e);
        color: #fff;
        font-size: 1.5rem;
        box-shadow: 0 4px 10px rgba(0,0,0,0.3);
        transition: transform 0.3s, box-shadow 0.3s;
        text-decoration: none;
      }
      .home-btn a:hover {
        transform: scale(1.1);
        box-shadow: 0 6px 15px rgba(0,0,0,0.4);
      }
    </style>
</head>
<body>
<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark sticky-top shadow-sm">
  <div class="container-fluid">

    <!-- Brand Logo + Name -->
    <a class="navbar-brand d-flex align-items-center fw-bold" href="#">
      <img src="https://cdn-icons-png.flaticon.com/512/1055/1055687.png" alt="Logo"
           width="35" height="35" class="d-inline-block align-text-top me-2">
      <span style="font-size:1.3rem;">LapiFy</span>
    </a>

    <!-- Mobile Toggle -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
            data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup"
            aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Nav Links -->
    <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
      <div class="navbar-nav ms-auto text-center">

        <a class="nav-link active px-3" href="{% url 'home' %}">
          <i class="bi bi-house-door-fill me-1"></i> Home
        </a>

        {% if user.is_authenticated %}
          <a class="nav-link px-3" href="{% url 'add' %}">
            <i class="bi bi-plus-circle-fill me-1"></i> Add Laptop
          </a>
          <a class="nav-link px-3" href="{% url 'show' %}">
            <i class="bi bi-laptop-fill me-1"></i> Show Laptops
          </a>
          <a class="nav-link px-3 fw-bold text-warning">
            <i class="bi bi-person-circle me-1"></i>Welcome {{ user }}
          </a>
          <a class="nav-link px-3" href="{% url 'logout' %}">
            <i class="bi bi-box-arrow-right me-1"></i> Logout
          </a>
        {% else %}
          <a class="nav-link px-3" href="{% url 'register' %}">
            <i class="bi bi-person-plus-fill me-1"></i> NewRegister
          </a>
          <a class="nav-link px-3" href="{% url 'login' %}">
            <i class="bi bi-box-arrow-in-right me-1"></i> Login
          </a>
        {% endif %}

        <!-- üåô Theme Toggle Button -->
        <button id="theme-toggle" class="btn btn-sm btn-outline-light ms-3">
          üåô Dark Mode
        </button>

      </div>
    </div>
  </div>
</nav>

<br><br>
{% if messages %}
  <div class="container mt-3" style="width:50%;"  >


    {% if messages %}
  {% for message in messages %}
    <div class="alert {{ message.tags }} alert-dismissible fade show" role="alert">
        {{ message }}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
  {% endfor %}
{% endif %}
  </div>
{% endif %}

{% block content %}
{% endblock %}

<!-- Home Button at Bottom Left -->
<div class="home-btn">
  <a href="{% url 'home' %}" title="Go to Home">
    <i class="bi bi-house-fill"></i>
  </a>
</div>

<!-- Footer -->
<footer class="text-center py-3 mt-5">
  <p class="mb-0">&copy; 2025 LapiFy | Manage your laptops smarter</p>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous"></script>

<!-- üåô Dark/Light Mode Script -->
<script>
  const toggleBtn = document.getElementById("theme-toggle");
  const body = document.body;

  // Load saved theme from localStorage
  if (localStorage.getItem("theme") === "dark") {
    body.classList.add("dark-mode");
    toggleBtn.textContent = "‚òÄÔ∏è Light Mode";
    toggleBtn.classList.replace("btn-outline-light", "btn-outline-warning");
  }

  toggleBtn.addEventListener("click", () => {
    body.classList.toggle("dark-mode");
    if (body.classList.contains("dark-mode")) {
      toggleBtn.textContent = "‚òÄÔ∏è Light Mode";
      toggleBtn.classList.replace("btn-outline-light", "btn-outline-warning");
      localStorage.setItem("theme", "dark");
    } else {
      toggleBtn.textContent = "üåô Dark Mode";
      toggleBtn.classList.replace("btn-outline-warning", "btn-outline-light");
      localStorage.setItem("theme", "light");
    }
  });
</script>
</body>
</html>
